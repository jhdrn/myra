!function(e){function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}var t={};return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="",n(n.s=6)}([function(e,n){"use strict";function t(e){return"string"==typeof e?"string":"number"==typeof e?"number":"boolean"==typeof e?"boolean":"function"==typeof e?"function":"undefined"==typeof e?"undefined":"null"==typeof e?"null":{}.toString.call(e).slice(8,-1).toLowerCase()}function o(e,n){return e>n?e:n}function r(e,n){var o=t(e),i=t(n);if(["string","number","boolean","undefined","null"].indexOf(o)>=0)return e===n;if("object"===o&&"object"===i){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(var f in e)if(e.hasOwnProperty(f)&&!r(e[f],n[f]))return!1;return!0}if("array"===o&&"array"===i){if(e.length!==n.length)return!1;for(var u in e)if(!r(e[u],n[u]))return!1;return!0}return"date"===o&&"date"===i?e.getTime()===n.getTime():"regexp"===o&&"regexp"===i&&e.toString()===n.toString()}function i(e){return e.reduce(function(e,n){return Array.isArray(n)?e.concat(i(n)):(e.push(n),e)},[])}function f(e){var n=t(e);switch(n){case"array":return e.map(function(e){return f(e)});case"object":var o={};for(var r in e)e.hasOwnProperty(r)&&(o[r]=f(e[r]));return o;case"date":return new Date(e.valueOf());case"function":default:return e}}function u(e,n){var t=f(e);n&&n(t);var o={state:t,effects:[]};return o.and=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];if(o.effects.push(e),"undefined"!=typeof n)for(var r=0;r<n.length;r++)o.effects.push(n[r]);return o},o}n.isIE9=document.all&&!window.atob,n.typeOf=t,n.max=o,n.equal=r,n.flatten=i,n.deepCopy=f,n.evolve=u},function(e,n,t){"use strict";function o(e,n){var t=c[e.name],o=new v(n,t,e.children);o.props=e.props,e.id=l++,s[e.id]=o,"undefined"!=typeof t.init.effects&&t.init.effects.length&&a.dispatch(o,p.render,function(){return t.init},void 0),o.initialized=!0;var r;r="function"==typeof t.onMount?t.onMount:function(e){return{state:e}},a.dispatch(o,p.render,r,e.props),o.rendition?(e.domRef=o.rendition.domRef,e.rendition=o.rendition):e.domRef=void 0}function r(e,n){e.id=n.id;var t=s[n.id];t.props=e.props,t.rendition.domRef=n.domRef,("undefined"!=typeof e.props&&null!==e.props&&e.props.forceUpdate||!d.equal(n.props,e.props))&&(t.childNodes=e.children,t.isUpdating||a.dispatch(t,p.render,"undefined"!=typeof t.spec.onMount?t.spec.onMount:function(e){return{state:e}},e.props),e.domRef=t.rendition.domRef,e.rendition=t.rendition)}function i(e){if(c[e.name])throw"A component with name '"+e.name+"' is already defined!";return c[e.name]=e,function(n,t){return void 0===t&&(t=[]),{__type:3,name:e.name,id:0,children:t,rendition:void 0,props:n,domRef:void 0}}}function f(e,n){o(e({}),n)}function u(e){if(3===e.__type){var n=s[e.id];"function"==typeof n.spec.onUnmount&&a.dispatch(n,p.render,n.spec.onUnmount,void 0),delete s[e.id],u(n.rendition)}else if(2===e.__type)for(var t=0,o=e.children;t<o.length;t++){var r=o[t];u(r)}}var d=t(0),a=t(2),p=t(5),c={},s={},l=1,v=function(){function e(e,n,t){this.parentNode=e,this.spec=n,this.childNodes=t,this._initialized=!1,this.dispatchLevel=0,this.isUpdating=!1,this.state=n.init.state}return Object.defineProperty(e.prototype,"initialized",{get:function(){return this._initialized},set:function(e){this._initialized||(this._initialized=!0)},enumerable:!0,configurable:!0}),e}();n.initComponent=o,n.updateComponent=r,n.defineComponent=i,n.mountComponent=f,n.findAndUnmountComponentsRec=u},function(e,n){"use strict";function t(e,n){void 0===e&&(e=!0),r=e,"undefined"!=typeof n&&(i.components=n.components)}function o(e,n,t,f){if(e.isUpdating)throw e.spec.name+": Dispatch error - the dispatch function may not be called during an update. Doing so would most likely corrupt the state.";e.dispatchLevel++,e.isUpdating=!0;var u=t(e.state,f);if("object"!=typeof u)throw"Invalid result.";e.isUpdating=!1;var d=function(t,r){return o(e,n,t,r)};if(r&&("undefined"!=typeof i.components&&i.components.indexOf(e.spec.name)===-1||(console.groupCollapsed(e.spec.name+" "+t.name),console.debug("State before update: ",e.state),console.debug("Update arguments: ",f),console.debug("State after update: ",u.state),console.groupEnd())),e.state=u.state,"undefined"!=typeof u.effects&&u.effects.length)for(var a=0;a<u.effects.length;a++)u.effects[a](d);if(e.initialized&&1===e.dispatchLevel){var p={props:e.props,state:e.state,apply:d,invoke:function(e){return e(d)},children:e.childNodes},c=e.spec.view(p);"undefined"!=typeof e.spec.onBeforeRender&&e.spec.onBeforeRender(c,p.state);var s=e.rendition?e.rendition.domRef:void 0;n(e.parentNode,c,e.rendition,s),e.rendition=c,"undefined"!=typeof e.spec.onAfterRender&&e.spec.onAfterRender(c,p.state)}e.dispatchLevel--}var r=!1,i={};n.debug=t,n.dispatch=o},function(e,n,t){"use strict";function o(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}var r=t(1);n.defineComponent=r.defineComponent,n.mountComponent=r.mountComponent;var i=t(2);n.debug=i.debug;var f=t(0);n.evolve=f.evolve,o(t(4))},function(e,n,t){"use strict";function o(e){for(var n=[],t=0,o=e;t<o.length;t++){var r=o[t];if(null!==r)if(Array.isArray(r))for(var f=0,u=i.flatten(r);f<u.length;f++){var d=u[f];"string"==typeof d?n.push({__type:1,value:r}):n.push(d)}else"object"==typeof r?"undefined"!=typeof r.__type?n.push(r):n.push({__type:1,value:r}):"undefined"!=typeof r&&n.push({__type:1,value:r})}return n}function r(e,n){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];return"nothing"===e?{__type:0}:"string"==typeof e?"text"===e?{__type:1,value:t[0]}:(null===n&&(n={}),{__type:2,tagName:e,props:n,children:o(t)}):(null===n&&(n={}),e(n,t))}var i=t(0);n.createElement=r},function(e,n,t){"use strict";function o(e,n,t,o){var f=d(n,t);f&&3===t.__type&&y.findAndUnmountComponentsRec(t),"undefined"==typeof o||"undefined"==typeof t||f?r(f,e,n,t,o):i(n,t,o)}function r(e,n,t,r,i){var f=s(t,n);if(t.domRef=f,e){if(2===r.__type)for(var u in r.props)0===u.indexOf("on")&&p(u,i);n.replaceChild(f,i)}else n.appendChild(f);if(2===t.__type){for(var d in t.props){var l=t.props[d];if("undefined"!=typeof l){var v=c(d,l,t),y=void 0;y="undefined"==typeof v?l:v,a(f,d,y)}}for(var m=0,h=t.children;m<h.length;m++){var g=h[m];"undefined"!=typeof g&&o(f,g,g,void 0)}}}function i(e,n,t){switch(e.__type){case 2:v(e,n,t),f(e,n,t);break;case 1:t.textContent=e.value;break;case 3:y.updateComponent(e,n)}"undefined"==typeof e.domRef&&(e.domRef=t),e!==n&&(n.domRef=void 0)}function f(e,n,t){for(var r,i=e.children.length,f=2===n.__type?n.children.length:0,d=m.max(i,f),a=0,p=t.firstChild,c=0;c<d;c++)if(c<i){r=e.children[c];var s=u(r,n,c);"undefined"!=typeof s.domRef&&s.domRef!==p?t.insertBefore(s.domRef,p):null!==p&&(p=p.nextSibling),o(t,r,s,s.domRef),a++}else if(null!==p){var s=n.children[c];y.findAndUnmountComponentsRec(s);var l=p.nextSibling;t.removeChild(p),p=l}}function u(e,n,t){if(2!==n.__type&&3!==n.__type)return e;var o=n.children[t];if("undefined"==typeof o)return e;if("undefined"!=typeof e){var r=2===e.__type&&2===o.__type||3===e.__type&&3===o.__type;if(r&&e.props.key!==o.props.key)for(var i=void 0,f=0;f<n.children.length;f++)if(i=n.children[f],i.__type===e.__type&&i.props.key===e.props.key)return i}return o}function d(e,n){return"undefined"!=typeof n&&(e.__type!==n.__type||(2===e.__type&&2===n.__type&&e.tagName!==n.tagName||3===e.__type&&3===n.__type&&e.name!==n.name))}function a(e,n,t){if(0===n.indexOf("on"))if("function"==typeof e[n]){var o=e[n];e[n]=function(e){o(e),t(e)}}else e[n]=t;else"value"!==n||"INPUT"!==e.tagName&&"TEXTAREA"!==e.tagName&&"SELECT"!==e.tagName?h.indexOf(n)>=0?e[n]=!!t:!t||"blur"!==n&&"click"!==n&&"focus"!==n?"function"!=typeof t&&"object"!=typeof t&&e.setAttribute(n,t):e[n]():e.value=t}function p(e,n){0===e.indexOf("on")?n[e]=null:n.hasAttribute(e)&&n.removeAttribute(e)}function c(e,n,t){if(0===e.indexOf("on"))return function(e){n(e,e.target,t)}}function s(e,n){switch(e.__type){case 2:return document.createElement(e.tagName);case 1:return document.createTextNode(e.value);case 3:return y.initComponent(e,n),e.domRef;case 0:return document.createComment("Nothing")}}function l(e,n){var t=[];for(var o in n.props)"undefined"!=typeof e.props[o]&&0!==o.indexOf("on")||t.push(o);return t}function v(e,n,t){for(var o=0,r=l(e,n);o<r.length;o++){var i=r[o];p(i,t)}var f,u,d,s;for(var v in e.props)f=e.props[v],u=n.props[v],0!==v.indexOf("on")&&f===u&&t.hasAttribute(v)||"undefined"==typeof f?"undefined"==typeof f&&t.hasAttribute(v)&&t.removeAttribute(v):(d=c(v,f,e),s="undefined"==typeof d?f:d,a(t,v,s))}var y=t(1),m=t(0),h=["checked","disabled","hidden","autofocus","required","selected","multiple","draggable"];n.render=o},function(e,n,t){"use strict";var o=t(3),r=void 0,i=function(e){return o.evolve("Hello world!")},f=function(e,n){return o.evolve(e+" again "+n)},u=o.defineComponent({name:"HelloWorldApp",init:{state:r},onMount:i,view:function(e){return o.createElement("p",{onclick:function(){return e.apply(f,"with an argument")}},e.state)}});o.mountComponent(u,document.body)}]);